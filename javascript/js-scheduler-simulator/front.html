<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../arquivos/jquery-3.6.0.js"></script>
    <script src="processos.json"></script>
    <script>
	$(document).ready(function() {
					
		$("#alternar-lista").click(function( event ) {
            		//alert("Fui clicado");
            		$("#lista-processos").toggle();
            		
            		event.preventDefault();
			});
			
		$("#mostrar-json").click(function( event ) {
		
			alert("Veja o console");
			console.log(data["processos"].length);
			processos = data["processos"];
			processos.forEach(function(processo, i){
				console.log("Nome: ", processo.nome, " , tempo res: ", processo.restante);
			});
			//TODO Mostrar saída na tela ao invés de no console
			
			event.preventDefault();
			});

		// Função que simplesmente escolhe o primeiro processo disponível			
		function escolhe() {
			//TODO Verificar se ainda existe algum processo
			return data["processos"][0];
		}
		
		function ciclo() {
			console.log("Mais um ciclo");
			processo_temp = escolhe();
			//TODO Verificar se escolhe retornou algum processo
			processo_temp.restante = processo_temp.restante - 1;
			//TODO Se restante for 0 então remove processo da lista
		}
			
		$("#ciclo-cpu").click(function(event) {
			ciclo();			
			event.preventDefault();
			});
			
		});


    </script>
    <title>Scheduler Simulator</title>
</head>
<body>
    
    <h2>Simulador de escalonador em JS</h2>
    
    	<ul>
    	<li><a href="#" id="alternar-lista">Ocultar/mostrar lista<a/></li>
    	<li><a href="#" id="mostrar-json">Mostrar JSON<a/></li>
    	<li><a href="#" id="ciclo-cpu">Rodar mais um ciclo</a></li>
    	</ul>

    	<p>Lista de processos</p>
	<ul id="lista-processos">
		<li>Item 1</li>
	</ul>
	
    
</body>
</html>
